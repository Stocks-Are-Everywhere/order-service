# ??-service


### 🔖 서비스 개요
  - **주제** : GitHub 데이터를 활용한 LLM 기반 이력서 자동 생성 서비스
  - **대상** : 이력서 작성에 어려움을 느끼는 예비 개발자

</br>

### 🎯 목표
  - **AI 기반 이력서 생성 및 수정**: 사용자의 GitHub 데이터를 분석하여 실제 기업에 제출 가능한 이력서를 AI와 함께 손쉽게 제작 및 수정
  - **커뮤니티 환경 제공**: 사용자 간 이력서를 공유하고, 피드백을 주고받을 수 있는 협력의 장 제공


### 🌏 주요 로직( ? )
<img width="1157" alt="스크린샷 2024-12-27 00 24 13" src="https://github.com/user-attachments/assets/df2dfb9b-d429-49c8-9b11-631727cc9afa" />
  

</br>
</br>


### 🔗 주요 기능  

  #### 1️⃣ 회원 및 인증 관리 시스템
  - GitHub 소셜 로그인을 통해 회원 가입 및 로그인을 할 수 있습니다.
  - 마이페이지에서 회원 정보를 관리할 수 있습니다.

  #### 2️⃣ 이력서 생성 및 수정
  - 사용자의 GitHub 데이터를 분석해 AI가 이력서를 자동으로 생성해줍니다.
  - 이력서는 3가지의 템플릿 중 1개를 골라 해당 형식으로 이력서를 작성할 수 있습니다.
  - 수정하고 싶은 부분을 사용자가 드래그 하고 요청사항을 입력하면 AI가 이력서를 수정해줍니다.
  - 직접 수정하고 싶은 부분은 사용자가 직접 수정할 수 있습니다.
  - 완성된 이력서는 PDF 파일로 다운로드 받을 수 있습니다.

  #### 3️⃣ 커뮤니티
  - 이력서 허브에서 사용자들은 이력서를 공유하고 피드백 받을 수 있습니다.
  - 관심 있는 이력서는 좋아요를 누를 수 있고, 좋아요 누른 이력서만 조회할 수 있습니다.
  - 직군, 학력, 조회수 순, 좋아요 순 등 다양한 필터로 이력서들을 조회해 볼 수 있습니다.

  #### 4️⃣ 결제
  - 카카오페이 API를 통해 사용자는 정기 결제를 진행해 PRO 플랜으로 사용할 수 있습니다.
  - FREE 플랜 사용자는 하루에 3회의 사용권만 사용할 수 있고 몇가지 제약사항이 존재합니다.
  - 매일 자정에 백엔드에서는 배치작업을 통해 만료된 결제를 처리하고, FREE 플랜 사용자의 사용권을 초기화합니다.

</br>

### 🌈 개선 사항

  #### 1️⃣ 배치 성능 최적화 - <ins>실행 시간 약 84% 감소</ins>

  </br>

  **문제 상황**
  - 정기 결제 및 사용권 초기화를 배치로 처리하고 있는데, 현재는 배치 로직도 엄청 복잡하지 않고, 데이터 양도 많지 않지만, 나중에 데이터가 많아지게될 경우 성능 저하가 우려됨

  **1. 순차처리 → 병렬처리**
  - 기존에 순차적으로 진행하던 작업을 병렬로 처리

  **결과**
  
  <img width="742" alt="스크린샷 2024-12-17 15 33 20" src="https://github.com/user-attachments/assets/ef411e3b-e757-47df-8572-8102f83dc10d" />

</br>  

  #### 2️⃣ 알림 모듈 처리량 개선 - <ins>TPS 약 2배 향상</ins>

</br>
  
  **문제 상황**
  - Resume 모듈에서 좋

</br>
  
  **JMeter 쓰레드 그룹 설정**  
<img width="343" alt="스크린샷 2024-12-03 16 35 00" src="https://github.com/user-attachments/assets/fce290f1-b10e-4de5-9594-0bffb3143263">


</br>

  
  **1. WebClient(blocking)**  
  
  <img width="821" alt="스크린샷 2024-12-03 16 37 00" src="https://github.com/user-attachments/assets/e2b810d2-9524-4c30-8518-2bc7ffca16c3">
<img width="1018" alt="스크린샷 2024-12-03 16 35 32" src="https://github.com/user-attachments/assets/857e290a-99dc-4de4-bc47-a8be415ccd8c">

**평균 응답속도** : 1304ms  
**99% 선 (최악의 경우)** : 4155ms  
**TPS** : 365.4/sec  

</br>
  

**결론**
<img width="1166" alt="스크린샷 2024-12-27 00 14 59" src="https://github.com/user-attachments/assets/d01963dd-a400-4583-9f0e-ee93ddd3f7cc" />

확장성 측면에서

---

</br>

  #### 3️⃣ GitHub API를 통해 사용자 레포지토리 목록 조회 성능 개선 - <ins>응답속도 약 60배 개선</ins>
  
</br>

  **문제 상황**
  - GitHub API를 사용해서 조회하는 것인데

</br>

  **문제 해결**
  - 레포지토리 목록은 

</br>

<img width="748" alt="스크린샷 2024-12-27 00 16 42" src="https://github.com/user-attachments/assets/e93b3708-7146-4a69-813e-c21500ff4b07" />

---

</br>

  #### 4️⃣ 검색 필터 조회 성능 개선 - <ins>약 55.4% 개선</ins>
  - 캐싱 시도
    - 필터 자체를 캐싱하자니 Cache Hit 확률이 너무 낮아 성능 개선이 안됨
   
</br>

  **<개선 전>**
  <img width="1337" alt="스크린샷 2024-11-12 11 06 11" src="https://github.com/user-attachments/assets/c8d814f9-6273-4dc6-86c2-750fbef3c266">


  **<개선 후>**


</br>



</br>

### 🚀 트러블 슈팅

  #### 1️⃣ **조회수 집계 구현시 동일 사용자가 새로고침할 때마다 계속해서 조회수가 증가**
  - 특정한 조건 없이 해당 이력서를 조회할 때마다 조회수가 올라가는 것은 조회수 정보의 신뢰성을 떨어뜨릴 수 있다고 판단

  #### 2️⃣ **MongoDB에서 페이지네이션 적용시 10만건 데이터 기준 총 8000 페이지에서 약 4000 페이지부터 메모리 관련 에러 발생**
  #### 3️⃣ **배치 작업 시 Kafka와 Spring Batch의 트랜잭션 충돌 문제 발생**
